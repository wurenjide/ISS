
//引入antd全局样式
import "antd/dist/reset.css";
import style from "./index.module.scss";
import React, { Children, useState } from 'react';
import AttMan from "./AttMan";
import Store from "./Store";
import AdminHome from "./Home";
import { Routes, Route, useRoutes, useNavigate } from 'react-router-dom';
import routes from '../../router'
import {
  MenuFoldOutlined,
  MenuUnfoldOutlined,
  UploadOutlined,
  HomeOutlined,
  VideoCameraOutlined,
  CalendarOutlined,
  ScheduleOutlined,
  SolutionOutlined,
  CarryOutOutlined,
} from '@ant-design/icons';
import { Layout, Menu, theme, Button, Dropdown, message, Space, } from 'antd';
import LeaveMan from "./LeaveMan";
import Raudit from "./Raudit";
import ScheduleMan from "./ScheduleMan";
import Staff from "./Staff";
import ScheduleRule from "./ScheduleRule";
import PersonAd from "./PersonAd";
const { Header, Sider, Content } = Layout;
const Admin = () => {
  const navigate = useNavigate();
  const [collapsed, setCollapsed] = useState(false);
  const {
    token: { colorBgContainer },
  } = theme.useToken();
  const items = [

    {
      label: '个人中心',
      key: '/admin/personad',
    },
    {
      label: '退出系统',
      key: '/quit',
    },
  ];
  const handleRouter = (e) => {
    if (e.key == "/quit") {
      localStorage.clear()
      navigate("/login")
    } else {
      navigate(e.key)
    }
  }
  const handleMenuClick = (e) => {
    if (e.key == "/quit") {
      localStorage.clear()
      navigate("/login")
    } else {
      navigate(e.key)
    }
  };
  const menuProps = {
    items,
    onClick: handleMenuClick,
  };
  return (
    <Layout>
      <Sider trigger={null} collapsible collapsed={collapsed} style={{
        overflow: 'auto',
        height: '100vh',
        position: 'fixed',
        position: 'sticky',
        top: 0,
        left: 0,
        bottom: 0,
      }}>
        <div className={style["logo"]} >logo</div>
        <Menu
          theme="dark"
          mode="inline"
          defaultSelectedKeys={['1']}
          style={{
            top: 0
          }}
          items={[
            {
              key: '/admin',
              icon: <svg t="1678015489094" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5688" width="16" height="16"><path d="M969.6 502.4l-118.4-112-323.2-300.8c-9.6-9.6-22.4-9.6-32 0l-313.6 297.6c-3.2 3.2-6.4 6.4-9.6 9.6l-118.4 112c-9.6 9.6-9.6 22.4 0 32s22.4 9.6 32 0l83.2-80 0 393.6c0 48 41.6 89.6 92.8 89.6l83.2 0c38.4 0 70.4-28.8 70.4-67.2l0-217.6 99.2 0 99.2 0 0 217.6c0 35.2 32 67.2 70.4 67.2l83.2 0c51.2 0 92.8-38.4 92.8-89.6l0-396.8 80 73.6c9.6 9.6 22.4 9.6 32 0C979.2 524.8 979.2 512 969.6 502.4zM809.6 857.6c0 25.6-19.2 44.8-44.8 44.8l-83.2 0c-12.8 0-22.4-9.6-22.4-22.4L659.2 640c0-12.8-9.6-22.4-22.4-22.4l-121.6 0-121.6 0c-12.8 0-22.4 9.6-22.4 22.4l0 240c0 12.8-9.6 22.4-22.4 22.4l-83.2 0c-25.6 0-44.8-19.2-44.8-44.8l0-438.4 294.4-281.6 294.4 281.6L809.6 857.6z" p-id="5689" fill="#dbdbdb"></path></svg>,
              label: '首页',
            },
            {
              key: '/admin/attman',
              icon: <svg t="1678015528458" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6880" width="16" height="16"><path d="M701.582 500.827L448.168 763.868 320.563 623.551c-11.799-12.976-31.883-13.932-44.86-2.128-12.975 11.8-13.928 31.883-2.128 44.858l143.942 158.283c6.268 6.891 14.868 10.391 23.503 10.391 2.705 0 5.413-0.352 8.053-1.042a31.89 31.89 0 0 0 5.786 0.532c8.325 0 16.64-3.255 22.873-9.723L747.32 544.891c12.169-12.629 11.794-32.733-0.837-44.901-12.631-12.168-32.735-11.794-44.901 0.837z m191.145-308.668H765.971V95.646c0-17.538-14.218-31.756-31.756-31.756s-31.756 14.217-31.756 31.756v96.514H317.826V96.145c0-17.538-14.217-31.756-31.756-31.756-17.538 0-31.756 14.217-31.756 31.756v96.014H129.905c-36.49 0-66.176 29.736-66.176 66.287v634.053c0 36.55 29.686 66.287 66.176 66.287h762.822c36.491 0 66.179-29.737 66.179-66.287V258.446c0-36.55-29.688-66.287-66.179-66.287z m-762.822 63.408h762.822c1.528 0 2.769 1.293 2.769 2.879v125.239H127.138V258.446c0-1.586 1.241-2.879 2.767-2.879z m762.822 639.81H129.905c-1.527 0-2.768-1.291-2.768-2.878V447.197h768.359V892.5c0 1.587-1.241 2.877-2.769 2.877z" p-id="6881" fill="#dbdbdb"></path></svg>,
              label: '考勤管理',
            },
            {
              key: '/admin/store',
              icon: <svg t="1678015959314" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5722" width="16" height="16"><path d="M104.618667 350.421333l113.194666-239.701333c5.76-13.226667 24.106667-25.6 40.448-25.6h507.733334c16.64 0 36.48 12.885333 39.253333 22.4l114.133333 242.901333a21.333333 21.333333 0 0 0 38.570667-18.176l-112.938667-239.744c-7.210667-25.813333-44.373333-50.048-79.018666-50.048h-507.733334c-33.493333 0-67.072 22.613333-79.317333 50.602667L66.048 332.245333a21.333333 21.333333 0 0 0 38.570667 18.176z" p-id="5723" fill="#dbdbdb"></path><path d="M490.666667 341.333333c0 33.066667-38.912 64-85.333334 64-56.405333 0-85.333333-25.557333-85.333333-64a21.333333 21.333333 0 0 0-42.666667 0c0 63.274667 49.066667 106.666667 128 106.666667 68.096 0 128-47.616 128-106.666667a21.333333 21.333333 0 1 0-42.666666 0z" p-id="5724" fill="#dbdbdb"></path><path d="M704 341.333333c0 33.066667-38.912 64-85.333333 64-56.405333 0-85.333333-25.557333-85.333334-64a21.333333 21.333333 0 1 0-42.666666 0c0 63.274667 49.066667 106.666667 128 106.666667 68.096 0 128-47.616 128-106.666667a21.333333 21.333333 0 1 0-42.666667 0zM277.333333 341.333333c0 33.066667-38.912 64-85.333333 64-56.405333 0-85.333333-25.557333-85.333333-64a21.333333 21.333333 0 0 0-42.666667 0c0 63.274667 49.066667 106.666667 128 106.666667 68.096 0 128-47.616 128-106.666667a21.333333 21.333333 0 0 0-42.666667 0z" p-id="5725" fill="#dbdbdb"></path><path d="M917.333333 341.333333c0 33.066667-38.912 64-85.333333 64-56.405333 0-85.333333-25.557333-85.333333-64a21.333333 21.333333 0 1 0-42.666667 0c0 63.274667 49.066667 106.666667 128 106.666667 68.096 0 128-47.616 128-106.666667a21.333333 21.333333 0 1 0-42.666667 0zM874.581333 576.768v341.418667a21.162667 21.162667 0 0 1-21.034666 21.248H170.325333a21.12 21.12 0 0 1-21.077333-21.248v-341.418667a21.333333 21.333333 0 1 0-42.666667 0v341.418667c0 35.285333 28.501333 63.914667 63.744 63.914666h683.221334c35.2 0 63.701333-28.629333 63.701333-63.914666v-341.418667a21.333333 21.333333 0 1 0-42.666667 0z" p-id="5726" fill="#dbdbdb"></path><path d="M320 938.666667v-170.666667c0-11.861333 9.472-21.333333 21.333333-21.333333h128c11.861333 0 21.333333 9.472 21.333334 21.333333v170.666667a21.333333 21.333333 0 1 0 42.666666 0v-170.666667c0-35.456-28.586667-64-64-64H341.333333c-35.456 0-64 28.586667-64 64v170.666667a21.333333 21.333333 0 1 0 42.666667 0z" p-id="5727" fill="#dbdbdb"></path></svg>,
              label: '门店管理',
            },
            {
              key: '/admin/leaveman',
              icon: <svg t="1678016432939" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12861" width="16" height="16"><path d="M121.009935 211.837778l168.945174 0.396244v48.856736c0 15.452477 12.504711 27.957189 27.957189 27.957189s27.957189-12.504711 27.957189-27.957189v-48.725679l214.675988 0.502728v48.222951c0 15.452477 12.503688 27.957189 27.957189 27.957189 15.452477 0 27.957189-12.504711 27.957188-27.957189v-48.091894l145.301615 0.340954v243.807573h55.914377V213.339818c0-31.670821-25.745596-57.416417-57.416417-57.416417H616.459852V101.373862c0-15.439167-12.504711-27.957189-27.957188-27.957189-15.453501 0-27.957189 12.518022-27.957189 27.957189v54.549539H345.869487V101.373862c0-15.439167-12.504711-27.957189-27.957189-27.957189s-27.957189 12.518022-27.957189 27.957189v54.549539H121.009935c-31.670821 0-57.416417 25.745596-57.416417 57.416417v539.760603c0 31.669797 25.745596 57.443038 57.416417 57.443038h338.190347v-55.914377l-339.692387-1.528661 1.50204-541.262643z" fill="#dbdbdb" p-id="12862"></path><path d="M256.158702 411.034668m-43.208984 0a43.208985 43.208985 0 1 0 86.417969 0 43.208985 43.208985 0 1 0-86.417969 0Z" fill="#dbdbdb" p-id="12863"></path><path d="M446.91161 411.034668m-43.208985 0a43.208985 43.208985 0 1 0 86.417969 0 43.208985 43.208985 0 1 0-86.417969 0Z" fill="#dbdbdb" p-id="12864"></path><path d="M632.07308 411.034668m-43.208985 0a43.208985 43.208985 0 1 0 86.417969 0 43.208985 43.208985 0 1 0-86.417969 0Z" fill="#dbdbdb" p-id="12865"></path><path d="M256.158702 579.685987m-43.208984 0a43.208985 43.208985 0 1 0 86.417969 0 43.208985 43.208985 0 1 0-86.417969 0Z" fill="#dbdbdb" p-id="12866"></path><path d="M446.91161 579.685987m-43.208985 0a43.208985 43.208985 0 1 0 86.417969 0 43.208985 43.208985 0 1 0-86.417969 0Z" fill="#dbdbdb" p-id="12867"></path><path d="M739.83701 517.48393c-119.474107 0-216.668469 97.195386-216.668469 216.668469s97.195386 216.668469 216.668469 216.668469S956.506503 853.626506 956.506503 734.152399s-97.195386-216.668469-216.669493-216.668469z m0 377.42256c-88.650039 0-160.754092-72.105076-160.754091-160.754091s72.105076-160.754092 160.754091-160.754092S900.592126 645.503384 900.592126 734.152399s-72.105076 160.754092-160.755116 160.754091z" fill="#dbdbdb" p-id="12868"></path><path d="M821.60654 706.19521H767.794199v-63.722527c0-15.452477-12.504711-27.957189-27.957189-27.957189s-27.957189 12.504711-27.957189 27.957189v91.68074c0 15.452477 12.504711 27.957189 27.957189 27.957189 0.21092 0 0.418769-0.011263 0.627642-0.016383 0.209896 0.004096 0.417745 0.016382 0.627642 0.016383h80.513222c15.453501 0 27.957189-12.504711 27.957189-27.957189 0.002048-15.453501-12.502664-27.958213-27.956165-27.958213z" fill="#dbdbdb" p-id="12869"></path></svg>,
              label: "请假管理",
            },
            {
              key: "/admin/raudit",
              icon: <svg t="1678016120065" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8867" width="16" height="16"><path d="M874.8 642.2H677.7c-31.5 0-57.2-25.6-57.2-57.2 0-18 8.5-34.9 22.8-45.7 36.7-21.9 67.6-52.7 89.4-89.5 23.3-39.3 35.7-84.4 35.7-130.3 0-34.5-6.8-68-20.1-99.5-12.9-30.5-31.3-57.8-54.8-81.2S642.8 96.9 612.4 84c-31.6-13.4-65.1-20.1-99.5-20.1-34.5 0-68 6.8-99.5 20.1-30.5 12.9-57.8 31.3-81.2 54.8s-41.9 50.8-54.8 81.2c-13.4 31.6-20.1 65.1-20.1 99.5 0 45.8 12.3 90.7 35.5 130 21.8 36.8 52.6 67.7 89.3 89.6 14.5 10.8 23.1 27.8 23.1 45.9 0 30.9-25.1 56.5-55.9 57.1-0.6 0-1.2 0-1.8 0.1H171.6c-44.2 0-80 35.8-80 80v126.4c0 44.2 35.8 80 80 80h703.1c44.2 0 80-35.8 80-80V722.2c0.1-44.2-35.8-80-79.9-80z m0 206.3H171.6V722.2h179.2v-0.1c74.4-1.5 134.3-62.3 134.3-137.1 0-47-23.7-88.4-59.7-113.1-52.7-30.3-88.2-87.2-88.2-152.3 0-97 78.6-175.6 175.6-175.6s175.6 78.6 175.6 175.6c0 65.4-35.7 122.3-88.7 152.6-35.8 24.7-59.3 66.1-59.3 112.9 0 75.7 61.4 137.2 137.2 137.2h197.1v126.2z" p-id="8868" fill="#dbdbdb"></path></svg>,
              label: "员工注册审核",
            },
            {
              key: "/admin/schedulem",
              icon: <svg t="1678016287613" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10330" width="16" height="16"><path d="M874.272 521.6V185.536a67.04 67.04 0 0 0-67.072-66.912H68.256A66.88 66.88 0 0 0 1.088 185.536v605.024c0 36.992 30.016 66.88 67.104 66.88h470.24v-67.168H68.256V185.792h738.816V521.6h67.2z" fill="#dbdbdb" p-id="10331"></path><path d="M899.776 791.04c0-27.84-9.824-51.616-29.408-71.392a96 96 0 0 0-70.944-29.536 96.64 96.64 0 0 0-70.944 29.536 97.664 97.664 0 0 0-29.344 71.392c0 27.872 9.824 51.744 29.344 71.36a96.32 96.32 0 0 0 70.944 29.6c27.712 0 51.36-9.856 70.944-29.6a97.504 97.504 0 0 0 29.408-71.36z m96.192 120.288a11.68 11.68 0 0 1-4.832 5.344 8.96 8.96 0 0 1-7.008 1.344l-53.952-13.856a191.68 191.68 0 0 1-21.344 20.608c2.528 11.872 6.912 28.736 13.152 50.432a11.488 11.488 0 0 1-0.192 8.064c-0.96 2.368 0-19.2-5.088 5.28-12.8 7.04-26.08 13.152-39.744 18.272-18.72 7.36-30.048 10.368-34.048 8.64a14.4 14.4 0 0 1-6.048-5.6l-25.184-45.696a179.296 179.296 0 0 1-29.312-0.096 484.32 484.32 0 0 1-29.76 47.808c-3.392 4.64-7.808 5.792-13.056 3.552l-60.768-25.792a11.648 11.648 0 0 1-5.792-5.216 8.864 8.864 0 0 1-0.608-7.264l13.824-53.984a174.144 174.144 0 0 1-20.256-20.672l-51.168 13.056a10.4 10.4 0 0 1-7.904-0.384 9.856 9.856 0 0 1-5.536-5.984c-14.112-30.688-22.688-52.544-25.536-65.408a11.84 11.84 0 0 1 5.632-12.608c7.136-4.32 14.368-8.448 21.728-12.416 7.808-4.256 15.456-8.672 23.072-13.152a147.52 147.52 0 0 1 0.352-32.096l-46.944-28.64c-2.176-1.312-3.744-3.424-4.352-5.92s-0.384-5.088 0.64-7.36l25.952-61.12a11.84 11.84 0 0 1 4.896-5.504 9.056 9.056 0 0 1 6.72-1.312l54.176 13.824c6.112-7.36 13.28-14.272 21.504-20.736a686.976 686.976 0 0 0-13.216-50.432 10.88 10.88 0 0 1 0.064-7.776 12.384 12.384 0 0 1 5.152-5.344c7.488-4.576 20.736-10.624 39.552-18.112 18.816-7.52 30.24-10.464 34.24-8.8 2.56 1.28 4.672 3.328 5.952 5.856l25.216 45.504c9.92-0.768 19.648-0.704 29.376 0.128 13.6-23.744 23.488-39.648 29.696-47.808 3.456-4.64 7.84-5.824 13.152-3.648l60.768 25.952a11.2 11.2 0 0 1 5.728 5.12c1.248 2.24 1.504 4.864 0.672 7.264l-13.92 53.984c7.712 6.688 14.496 13.664 20.352 20.672l51.392-12.928a9.568 9.568 0 0 1 7.616 0.256 11.84 11.84 0 0 1 5.696 5.696c14.208 31.872 22.688 53.824 25.248 66.016a9.824 9.824 0 0 1-0.64 6.944 11.744 11.744 0 0 1-4.928 5.344 661.12 661.12 0 0 1-21.696 12.48c-7.776 4.16-15.392 8.512-23.04 13.024 0.8 11.264 0.704 21.856-0.256 31.776l46.816 29.024c2.144 1.28 3.68 3.392 4.32 5.92a10.816 10.816 0 0 1-0.608 7.36l-25.92 61.12zM135.424 450.112c-0.064 19.968 10.56 38.4 27.904 48.384 17.312 9.984 38.624 9.92 55.872-0.192a55.616 55.616 0 0 0-0.128-96.48 55.808 55.808 0 0 0-83.648 48.288z m246.432 0a55.712 55.712 0 0 0 83.776 48.192 55.744 55.744 0 1 0-83.776-48.192z m246.464 0a55.68 55.68 0 0 0 83.68 48.192 55.744 55.744 0 0 0-0.064-96.48 55.744 55.744 0 0 0-83.616 48.288z m-492.896 217.28a55.68 55.68 0 0 0 83.776 48.256 55.68 55.68 0 1 0-55.84-96.448 55.744 55.744 0 0 0-27.936 48.192z m246.432 0a55.744 55.744 0 1 1 111.488 0.192 55.744 55.744 0 0 1-111.488-0.192zM269.76 41.024C269.76 22.4 284.352 7.456 303.36 7.456h1.696c18.528 0 33.568 14.688 33.568 33.568v207.104a33.28 33.28 0 0 1-33.568 33.632h-1.728a33.44 33.44 0 0 1-33.664-33.568V40.96l0.096 0.064z m268.672 0c0-18.624 14.592-33.568 33.568-33.568h1.728c18.464 0 33.568 14.688 33.568 33.568v207.104a33.28 33.28 0 0 1-33.568 33.632h-1.728a33.408 33.408 0 0 1-33.632-33.568V40.96l0.064 0.064z" fill="#dbdbdb" p-id="10332"></path></svg>,
              label: "排班表管理",
              children: [
                {
                  key: "/admin/scheduleman",
                  label: "排班表编辑",
                },
                {
                  key: "/admin/schedulerule",
                  label: "排班规则管理",
                },
              ]
            },
            {
              key: "/admin/staff",
              icon: <svg t="1678016353780" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11500" width="16" height="16"><path d="M322.5 62h384.6v70H322.5z" p-id="11501" fill="#dbdbdb"></path><path d="M870.2 62h-59.3v70h59.3c7.2 0 13 5.8 13 13v733.9c0 7.2-5.8 13-13 13h-720c-7.2 0-13-5.8-13-13V145c0-7.2 5.8-13 13-13h68.6V62h-68.6c-45.8 0-83 37.2-83 83v733.9c0 45.8 37.2 83 83 83h720c45.8 0 83-37.2 83-83V145c0-45.8-37.3-83-83-83z" p-id="11502" fill="#dbdbdb"></path><path d="M295 806.2c-0.5-5.7-0.7-11.6-0.7-17.3 0-119 96.8-215.8 215.8-215.8S726 669.8 726 788.8c0 5.8-0.2 11.6-0.7 17.3l69.8 5.6c0.6-7.6 0.9-15.3 0.9-22.9 0-76.4-29.7-148.1-83.7-202.1-29.7-29.8-64.9-52.1-103.3-66.2 45.6-31.5 75.5-84.1 75.5-143.5 0-96.1-78.2-174.4-174.4-174.4-96.1 0-174.4 78.2-174.4 174.4 0 59.5 29.9 112 75.5 143.5C373 534.6 337.8 557 308 586.7c-54 54-83.7 125.8-83.7 202.1 0 7.6 0.3 15.3 0.9 22.9l69.8-5.5z m215.2-533.6c57.5 0 104.4 46.8 104.4 104.4 0 57.5-46.8 104.4-104.4 104.4-57.5 0-104.4-46.8-104.4-104.4 0-57.6 46.8-104.4 104.4-104.4z" p-id="11503" fill="#dbdbdb"></path></svg>,
              label: "员工管理"
            },
          ]}
          onClick={handleRouter}
        />
      </Sider>
      <Layout className="site-layout">
        <Header
          style={{
            padding: 0,
            background: "white",
            position: 'sticky',
            top: 1,
            zIndex: 10,
          }}
        // className={style["header"]}
        >
          {React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined, {
            className: style["trigger"],
            onClick: () => setCollapsed(!collapsed),
          })}
          智能排班系统
          <Space wrap style={{ float: "right", marginRight: "20px" }}>
            <Dropdown menu={menuProps}>
              <Button>
                <Space>
                  用户名
                </Space>
              </Button>
            </Dropdown>
          </Space>
        </Header>
        <Content
          style={{
            margin: '24px 16px',
            padding: 24,
            minHeight: 280,
            background: colorBgContainer,
          }}
        >
          <Routes>
            <Route path="/" element={<AdminHome />} />
            <Route path='attman' element={<AttMan />} />
            <Route path='store' element={<Store />} />
            <Route path="leaveman" element={<LeaveMan />} />
            <Route path="raudit" element={<Raudit />} />
            <Route path="scheduleman" element={<ScheduleMan />} />
            <Route path="schedulerule" element={<ScheduleRule />} />
            <Route path="staff" element={<Staff />} />
            <Route path="personad" element={<PersonAd />} />
          </Routes>
        </Content>
      </Layout>
    </Layout>
  );
};
export default Admin;